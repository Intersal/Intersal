/* ===========================
   Responsive Retro CSS — drop-in
   Replace your main.css / windows98popup.css with this
   =========================== */

/* reset + box-sizing */
*,
*::before,
*::after {
  box-sizing: border-box;
}
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

/* variables for quick tuning */
:root{
  --accent: #199515;
  --bg: #202020;
  --panel-bg: rgba(21,21,21,0.85);
  --win-border: #101010;
  --glass: rgba(10,10,42,0.22);
  --gap: 2.2vh;
}

/* BODY: fluid font sizing (clamped) and background behavior */
body {
  font-family: 'Press Start 2P', monospace, system-ui, sans-serif;
  font-size: clamp(12px, 1.05vw, 16px); /* scales with viewport but stays readable */
  line-height: 1.45;
  color: var(--accent);
  background: var(--bg) center/cover no-repeat fixed;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Full-screen scanline overlay that never blocks input */
body::before,
body::after {
  content: "";
  pointer-events: none;        /* allow clicks through overlay */
  position: fixed;
  inset: 0;
  z-index: 9999;
}

/* moving faint scanline */
body::before{
  background: rgba(0,0,0,0.18);
  animation: scanlineAnim 6s linear infinite;
  mix-blend-mode: overlay;
}

/* subtle repeating horizontal stripes (CRT) */
body::after{
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.18) 0,
    rgba(0,0,0,0.18) 0.25vh,
    transparent 0.25vh,
    transparent 0.5vh
  );
  animation: scanFlicker 1.1s steps(60) infinite;
  opacity: 0.85;
}

/* keyframes with unique names (avoid collisions with other files) */
@keyframes scanlineAnim {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}
@keyframes scanFlicker {
  0% { opacity: 0.75; }
  50% { opacity: 0.6; }
  100% { opacity: 0.75; }
}

/* Basic link style */
a { color: #21bd1c; text-decoration: underline; }

/* Generic container that centers content and keeps it fluid */
.site-row {
  width: min(1100px, 96vw);
  margin: 2.2vh auto;
  padding: 1.2vh 2vw;
}

/* Top layout: two columns on wide screens, stacked on small */
.top-container {
  display: flex;
  gap: var(--gap);
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;      /* critical: stacks on narrow screens */
}

/* Windows / panels (re-usable) */
.window,
.windowbio,
.windowproj {
  background: var(--panel-bg);
  border: calc(0.18vh) solid var(--win-border);
  border-radius: 0.6vh;
  box-shadow: 0 0 1.6vh rgba(0,0,0,0.7);
  color: #e6e6e6;
  padding: 1.2vh 1.6vw;
}

/* sensible width tiers (use vw so they shrink on small screens) */
.window  { flex: 0 1 28vw; max-width: 360px; min-width: 200px; }
.windowbio{ flex: 0 1 44vw; max-width: 720px; min-width: 260px; }
.windowproj{flex: 0 1 36vw; max-width: 520px; min-width: 220px;}

/* header bar inside windows */
.window-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(90deg, #1a001a, #3c0050);
  color: #e0d6ff;
  padding: 0.6vh 1vw;
  font-family: 'Cinzel Decorative', serif;
  font-size: clamp(0.8rem, 0.9vw, 1rem);
  border-bottom: calc(0.15vh) solid var(--win-border);
  border-top-left-radius: 0.45vh;
  border-top-right-radius: 0.45vh;
}

/* body of the window */
.window-body {
  background: radial-gradient(circle at center, rgba(40,0,60,0.86), rgba(10,0,20,0.95));
  padding: 1.6vh 1.2vw;
  text-align: center;
  border-radius: 0.4vh;
}

/* wisdom button styling (responsive padding & font) */
.wisdombutton {
  font-family: 'Papyrus', 'Cinzel Decorative', serif;
  font-size: clamp(0.85rem, 1.6vw, 1.5rem);
  padding: clamp(8px, 1.2vh, 18px) clamp(14px, 3.8vw, 36px);
  color: #fff;
  background: linear-gradient(45deg,#5e1d91,#0a0a2a);
  border: calc(0.18vh) solid rgba(200,150,255,0.8);
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 0 1.2vh rgba(150,0,255,0.55);
  transition: transform .18s ease, box-shadow .18s ease;
}
.wisdombutton:hover{
  transform: scale(1.05) translateY(-0.3vh);
  box-shadow: 0 0 2vh rgba(157,96,255,0.7);
}

/* wisdom text */
#wisdom{
  margin-top: 1.6vh;
  font-family: 'Cinzel Decorative', serif;
  font-size: clamp(0.85rem, 1.1vw, 1.2rem);
  color: #e0d6ff;
  text-shadow: 0 0 0.8vh rgba(183,143,255,0.6);
}

/* bio top dots */
.dot { display:inline-block; width:1.8vh; height:1.8vh; color:#fff; }

/* image thumb that scales */
#canvas, .project, .project img {
  display:block;
  width: min(16vw, 140px);
  height: auto;
  margin: 1.6vh auto 0;
  max-height: 18vh;
}

/* project table: fluid width, inner padding responsive */
.projecttable {
  background: var(--glass);
  color: #fff;
  border-radius: 0.8vh;
  margin: 2.4vh auto;
  width: 100%;
  padding: 1.2vh 1.6vw;
  box-shadow: 0 0.6vh 1.6vh rgba(10,10,42,0.3);
  overflow-x: auto;
}

/* table inside projecttable */
.projecttable table {
  width: 100%;
  border-collapse: collapse;
  table-layout: auto;
  font-size: clamp(0.9rem, 0.9vw, 1rem);
}
.projecttable th, .projecttable td {
  padding: 1.2vh 1vw;
  text-align: center;
  border-bottom: 0.12vh solid rgba(255,255,255,0.03);
}

/* win98 popup (flat CSS — no nesting) */
.win98popup {
  width: min(88vw, 360px);
  background: #c2c6ca;
  color: black;
  font-family: "Microsoft Sans Serif", sans-serif;
  font-size: clamp(0.85rem, 1vw, 1rem);
  border: 0.2vh solid #000;
  box-shadow: 0.2vh 0.2vh 0 0.2vh black, inset 0.2vh 0.2vh 0 rgba(255,255,255,0.6);
  padding: 0.6vh 0.6vw;
  border-radius: 0.3vh;
  display: flex;
  flex-direction: column;
  gap: 0.8vh;
}

/* bar inside win98 popup */
.win98popup .bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#00a;
  color:white;
  padding:0.4vh 0.6vw;
  border-radius:0.2vh;
}

/* buttons area */
.win98popup .buttons {
  display:flex;
  justify-content:flex-end;
  gap: 0.8vw;
  padding: 0 0.6vw 0.6vh 0.6vw;
}
.win98popup .buttons button {
  background:#c2c6ca;
  border: 0.12vh solid #000;
  padding: 0.6vh 1vw;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap: 0.6vw;
  min-width: 68px;
  justify-content:center;
}
.win98popup .buttons button:active{
  transform: translate(1px,1px);
  box-shadow: inset 0.2vh 0.2vh 0 rgba(0,0,0,0.5);
}

/* small-screen tweaks */
@media (max-width: 720px){
  .top-container { gap: 3.5vh; }
  .window { flex-basis: 92%; }
  .windowbio { flex-basis: 92%; }
  .windowproj { flex-basis: 92%; }
  .wisdombutton { width: 96%; padding-inline: 6vw; }
  .projecttable { padding: 1.6vh 3vw; }
}

/* final safety: ensure overlays never trap focus/clicks */
[role="overlay"], .overlay { pointer-events: none; }
